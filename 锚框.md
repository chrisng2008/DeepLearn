# 锚框
- 一类目标检测算法是基于锚框
  - 提出多个被称为锚框的区域(边缘框)
  - 预测每个锚框里是否包含有关注的物体
  - 如果是，预测从这个锚框到真实边缘框的偏移


## loU交并比
- loU用来计算两个框之间的相似度
  - 0表示无重叠，1表示重合(越接近1，相似度越高)
- 这是Jacquard指数的一个特殊情况
  - 给定两个集合A和B
    $$
        J(A, B) = \frac{|A \cap B|}{|A \cup B|}
    $$
    ![图 3](assest/%E9%94%9A%E6%A1%86/IMG_20220910-205407690.png)  

## 赋予锚框标号
- 每个锚框是一个训练样本
- 将每个锚框，要么标注成背景，要么关联上一个真实边缘框
- 我们可能会生成大量的锚框
  - 这个导致大量的负类样本

计算loU值，找到loU最大的方格，然后将方格所在的行和列删除。然后在剩下的格子中不断重复上述的操作。

![图 4](assest/%E9%94%9A%E6%A1%86/IMG_20220910-232243035.png)  

## 使用非极大值一直(NMS)输出
- 每个锚框预测一个边缘框
- NMS可以合并相似的预测
  - 选中是非背景类的最大预测值
  - 去掉所有其他和loU值大于$\theta$的预测
  - 重复上述过程知道所有预测要么被选中，要么被去掉。

## 总结
- 一类目标检测算法基于锚框来预测
- 首先生成大量锚框，并赋予符号，每个锚框作为一个样本进行训练
- 在预测时，使用NMS来去掉冗余的预测

